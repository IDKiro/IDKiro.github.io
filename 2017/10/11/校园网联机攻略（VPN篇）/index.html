<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="IDKiro">
  <!-- Open Graph Data -->
  <meta property="og:title" content="校园网联机攻略（VPN篇）"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="IDKiro&#39;s Pages"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://www.idkiro.xyz"/>
  
    <link rel="alternate" href="/atom.xml" title="IDKiro&#39;s Pages" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>IDKiro's Pages</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/MGS.png)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">校园网联机攻略（VPN篇）</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/IDKiro">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:609568960@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By IDKiro</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2017-10-11</span>
            <span class="time">18:11:31</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/教程/">教程</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/联机/">#联机</a> <a class="tag" href="/tags/主机游戏/">#主机游戏</a> <a class="tag" href="/tags/VPN/">#VPN</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>浙江大学主机游戏联机教程第二部分，主要讲解VPN的使用和路由器的设置</p>
<a id="more"></a>
<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>该教程撰写于2017年11月20日，不保证文章正确性。</p>
<p>该方案是为了解决两个问题：</p>
<ol>
<li>SOCKS5的UDP穿透功能并不是太好，NAT 类型虽然在NS上显示为Type A（PS4上为Type 2，两者的分法都有问题），但是实际联机时会和电信用户明显有沟，所以寻求VPN类的协议解决这个问题。</li>
<li>SS的各类客户端都对UDP的支持有限，最好的sstap也只能解决PC游戏联机的问题，对热点分享给主机的玩家毫无帮助。而部分VPN协议原生支持UDP，其效果比SS好得多，所以使用VPN可以让不想购买路由器的玩家也可以拯救校园网。</li>
</ol>
<p>本教程的阅读方法:<br><em>1.斜体为说明解释部分，可以不看</em><br><strong>2.粗体为重要提醒，请仔细阅读</strong></p>
<h1 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h1><h2 id="智能路由器-VPN-L2TP"><a href="#智能路由器-VPN-L2TP" class="headerlink" title="智能路由器+VPN(L2TP)"></a>智能路由器+VPN(L2TP)</h2><p>路由器固件多种多样，我用过最好用的就是padavan了，这里先介绍padavan的L2TP协议VPN的使用方法。</p>
<h3 id="1-给路由器安装padavan固件"><a href="#1-给路由器安装padavan固件" class="headerlink" title="1.给路由器安装padavan固件"></a>1.给路由器安装padavan固件</h3><p><em>本教程以<strong>斐讯k2</strong>安装padavan为例</em></p>
<p><strong>斐讯k2可下载群文件中的<img src="/2017/10/11/校园网联机攻略（VPN篇）/1.png">，里面是一键刷机的整合包，内附简单操作步骤，成功后你可以跳过该部分。</strong></p>
<p>①首先你要知道你路由器的型号<br>比如极路由-极1s对应的型号一般是HC5661A，斐讯k2的对应的一般是PSG1218，这个型号可以在机身的贴纸上找到。</p>
<p>②下载路由所需要的padavan固件<br>打开下面的云盘。</p>
<p><a href="https://eyun.baidu.com/s/3kV0JV19" target="_blank" rel="noopener">https://eyun.baidu.com/s/3kV0JV19</a></p>
<p>进入最新的文件夹，下面会有很多的固件文件<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/2-300x176.png"><br>这时候按下Ctrl+F，也就是搜索页面上的信息，输入你的路由器型号<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/3.png"><br>就找到了你路由器的固件，斐讯k2有两个版本，你需要知道你的路由器的内存是256M还是64M的，然后下载正确的固件。斐讯k2默认是64M，如果你不清楚，那就选择64M的版本即可。</p>
<p>③给你的路由器刷入padavan固件<br>下面是斐讯k2的刷固件教程，其他型号请在恩山无线论坛中搜索相关教程。<br><a href="http://www.right.com.cn/forum/thread-209423-1-1.html" target="_blank" rel="noopener">http://www.right.com.cn/forum/thread-209423-1-1.html</a></p>
<h3 id="2-配置路由器的准备工作"><a href="#2-配置路由器的准备工作" class="headerlink" title="2.配置路由器的准备工作"></a>2.配置路由器的准备工作</h3><p><em>使用路由器需要用到学校的有线网络，相关教程cc98上有比较详细的，下面这个cc98的教程是让电脑直接连接有线的，我推荐没有用过有线的同学照着做一次来理解和测试。</em></p>
<p><a href="http://www.cc98.org/dispbbs.asp?boardID=226&amp;ID=2928932#4" target="_blank" rel="noopener">http://www.cc98.org/dispbbs.asp?boardID=226&amp;ID=2928932#4</a></p>
<p>以下是准备工作的简单教程：<br>对于紫金港校区，你只需要把网线插到路由器上就行，然后直接跳到路由器的设置。<br>对于玉泉校区和西溪校区（华家池和之江不了解），因为是静态IP所以需要申请有线网络IP，可以直接在微信的学生公寓公众号内实现，申请需要你的MAC地址，查看方法：在电脑上按win+r呼出运行界面，输入cmd，回车运行命令提示符，输入ipconfig/all后回车，找到你的MAC地址并记录（只要是个MAC地址就行，无论有线无线）<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/4.png"><br>申请后得到以下的信息并记录<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/5-300x271.png"><br>当然你需要用网线连接上你的路由器</p>
<h3 id="3-配置路由器上网"><a href="#3-配置路由器上网" class="headerlink" title="3.配置路由器上网"></a>3.配置路由器上网</h3><p>①进入padavan的控制台<br>一般在浏览器输入192.168.123.1即可，用户名密码都是admin</p>
<p>②设置L2TP来连接校园网<br>选择外部网络选项<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/6.png"><br>协议选择L2TP，加速可以都打开<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/7.png"><br>MAN IP设置填入之前记录的申请到的ip地址等信息，MTU你可以设置1428，有玄学加成（紫金港使用自动获取）<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/8.png"><br>DNS设置<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/tutorial_edit1.png"><br>VPN客户端设置，用户名和密码填写自己VPN的用户名和密码<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/tutorial_edit2.png"><br>填写记录的MAC地址（物理地址、网卡地址）<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/11.png"><br><strong>保存设置，重启路由器以后看看能不能上网，可以的话就证明已经连接到了校园网</strong></p>
<h3 id="4-配置VPN代理"><a href="#4-配置VPN代理" class="headerlink" title="4.配置VPN代理"></a>4.配置VPN代理</h3><p>①设置VPN<br>打开VPN客户端设置<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/9.png"><br>按照图中内容填写相关选项<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/10.png"><br><strong>平时不联机请关闭VPN以节省服务器流量，另外开着VPN会导致你无法上学校内网</strong><br>②测试VPN<br>设置完毕，在浏览器中打开以下网址</p>
<p><a href="http://www.ip138.com/" target="_blank" rel="noopener">http://www.ip138.com/</a></p>
<p>如果现实的IP已经不在杭州了，那就说明你VPN正常工作了。<br>使用NS测试，会发现IP和NAT TYPE都已经改变了，并且可以正常联机。</p>
<h2 id="PC热点共享-VPN-L2TP"><a href="#PC热点共享-VPN-L2TP" class="headerlink" title="PC热点共享+VPN(L2TP)"></a>PC热点共享+VPN(L2TP)</h2><h3 id="1-让电脑翻墙"><a href="#1-让电脑翻墙" class="headerlink" title="1.让电脑翻墙"></a>1.让电脑翻墙</h3><p>①设置VPN<br><strong>方法一：使用官方VPN客户端</strong><br>下载群文件中的VPN客户端<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/39.png"><br>安装客户端一直点击下一步即可<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/40.png"><br>安装完以后打开软件，双击添加新的VPN连接，第一次使用时会提示安装一个适配器，同意即可<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/41.png"><br>填写以下信息(一人一号，自行申请)：<br>主机名：<del>103.85.25.90</del><br>端口：5555<br>用户名：Kiro<br>密码：nsinzju<br>然后点击确定即可<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/42.png"><br>双击新加入的服务器进行连接<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/43.png"><br><strong>方法二：使用Windows自带客户端</strong><br>如图进行设置即可，注意共享秘钥也为nsinzju。<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/46.png"><br><strong>平时不联机请关闭VPN以节省服务器流量，另外开着全局VPN会导致你无法上学校内网</strong><br>②测试VPN<br>设置完毕，在浏览器中打开以下网址</p>
<p><a href="http://www.ip138.com/" target="_blank" rel="noopener">http://www.ip138.com/</a></p>
<p>如果现实的IP已经不在杭州了，那就说明你VPN正常工作了。</p>
<h3 id="2-配置wifi共享"><a href="#2-配置wifi共享" class="headerlink" title="2.配置wifi共享"></a>2.配置wifi共享</h3><p>因为VPN是全局的代理，包括TCP和UDP的协议的网络传输，在成功翻墙的情况下你只需要开启热点即可。<br>win10自带热点功能，不会用的下个猎豹WIFI之类的软件，台式机买一张支持AP的无线网卡（各类随身WIFI都有此功能）即可。<br>现在打开NS进行网络测试已经显示IP为填写的服务器IP，并且NAT Type为A，打开游戏测试是否可以正常联机即可。</p>
<h2 id="PC热点共享-VPN-OpenConnect"><a href="#PC热点共享-VPN-OpenConnect" class="headerlink" title="PC热点共享+VPN(OpenConnect)"></a>PC热点共享+VPN(OpenConnect)</h2><h3 id="1-让电脑翻墙-1"><a href="#1-让电脑翻墙-1" class="headerlink" title="1.让电脑翻墙"></a>1.让电脑翻墙</h3><p>①设置VPN<br>下载群文件中的VPN客户端，当然你也可以在GitHub上<a href="https://github.com/openconnect/openconnect-gui/releases" target="_blank" rel="noopener">下载</a>最新编译好的win32版本<br>安装客户端除了图中标示的界面需要进行修改，其他一直点击下一步即可<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc2.png"><br>安装完以后打开软件，点击此处的New profile添加新的VPN连接<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc3.png"><br>填写<a href="http://sh.nsinzju.top:5555" target="_blank" rel="noopener">http://sh.nsinzju.top:5555</a><br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc4.png"><br>其中sh.nsinzju.top为域名，也可以是个IP，5555为端口<br>弹出警告，直接确认即可<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc5.png"><br>填写用户名<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc6.png"><br>填写密码<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc7.png"><br>点击Connect即可连接<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc8.png"><br>连接成功后锁会变成绿色<br><img src="/2017/10/11/校园网联机攻略（VPN篇）/oc9-1.png"><br>②测试VPN<br>设置完毕，在浏览器中打开以下网址</p>
<p><a href="http://www.ip138.com/" target="_blank" rel="noopener">http://www.ip138.com/</a></p>
<p>如果现实的IP已经不在杭州了，那就说明你VPN正常工作了。</p>
<h3 id="2-配置wifi共享-1"><a href="#2-配置wifi共享-1" class="headerlink" title="2.配置wifi共享"></a>2.配置wifi共享</h3><p>因为VPN是全局的代理，包括TCP和UDP的协议的网络传输，在成功翻墙的情况下你只需要开启热点即可。<br>win10自带热点功能，不会用的下个猎豹WIFI之类的软件，台式机买一张支持AP的无线网卡（各类随身WIFI都有此功能）即可。<br>现在打开NS进行网络测试已经显示IP为填写的服务器IP，并且NAT Type为A，打开游戏测试是否可以正常联机即可。</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

